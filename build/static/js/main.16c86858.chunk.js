(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[1],{107:function(t,e,n){},108:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u,i,s,b=n(0),j=n(26),d=n.n(j),O=n(18),f=n(12),l=n(27),p=function(t){return t.auth.idToken},h=function(t){return t.auth.name},x=n(15),m=[{name:"Home",path:"/",component:Object(b.lazy)((function(){return n.e(5).then(n.bind(null,111))})),exact:!0,isPrivate:!1,restricted:!1},{name:"Contacts",path:"/contacts",component:Object(b.lazy)((function(){return n.e(4).then(n.bind(null,112))})),exact:!0,isPrivate:!0,restricted:!1},{name:"Register",path:"/register",component:Object(b.lazy)((function(){return n.e(0).then(n.bind(null,113))})),exact:!0,isPrivate:!1,restricted:!0},{name:"Login",path:"/login",component:Object(b.lazy)((function(){return n.e(0).then(n.bind(null,113))})),exact:!0,isPrivate:!1,restricted:!0}],v=n(1),g=function(t){var e=t.path,n=t.exact,c=t.name,r=t.isPrivate,a=t.restricted,o=t.isAuth;return Object(v.jsxs)(v.Fragment,{children:[!r&&!a&&Object(v.jsx)("li",{className:"navItem",children:Object(v.jsx)(O.b,{className:"navLink",activeClassName:"navLinkActive",to:e,exact:n,children:c.toUpperCase()})},e),r&&!a&&o&&Object(v.jsx)("li",{className:"navItem",children:Object(v.jsx)(O.b,{className:"navLink",activeClassName:"navLinkActive",to:e,exact:n,children:c.toUpperCase()})},e),!r&&a&&!o&&Object(v.jsx)("li",{className:"navItem",children:Object(v.jsx)(O.b,{className:"navLink",activeClassName:"navLinkActive",to:e,exact:n,children:c.toUpperCase()})},e)]})},k=n(22),y=n(23),C=y.a.nav(c||(c=Object(k.a)(["\n  padding-left: 10px;\n  padding-right: 10px;\n  .navList {\n    display: flex;\n    list-style: none;\n  }\n  .navItem {\n    margin-right: 20px;\n  }\n  .navLink {\n    color: white;\n    text-decoration: none;\n  }\n  .navLinkActive {\n    border-bottom: 2px solid;\n  }\n"]))),w=function(){var t=Object(f.c)(p);return Object(v.jsx)(C,{children:Object(v.jsx)("ul",{className:"navList",children:m.map((function(e){return Object(b.createElement)(g,Object(x.a)(Object(x.a)({},e),{},{key:e.path,isAuth:t}))}))})})},N=y.a.div(r||(r=Object(k.a)(["\n  display: flex;\n  align-items: center;\n\n  margin-left: auto;\n  .text {\n    font-weight: 700;\n    font-size: 16px;\n    color: #f1e7f3;\n  }\n  button {\n    margin-left: 10px;\n    font-size: 14px;\n    padding: 10px;\n    font-weight: 700;\n    color: #6d92c2;\n    border: none;\n    border-radius: 10px;\n    background-color: transparent;\n    box-shadow: 0px 1px 13px 0px #696665;\n    cursor: pointer;\n  }\n  button:hover,\n  :focus {\n    color: #c7c1c1;\n    box-shadow: 0px 1px 13px 0px #e9d8d9;\n  }\n"]))),A=function(){var t=Object(f.c)(h),e=Object(f.b)();return Object(v.jsxs)(N,{children:[Object(v.jsxs)("p",{className:"text",children:["Welcome, ",Object(v.jsx)("span",{className:"",children:t})]}),Object(v.jsx)("button",{className:"",type:"button",onClick:function(){e(Object(l.b)())},children:"Logout"})]})},L=y.a.header(a||(a=Object(k.a)(["\n  height: 60px;\n  background-color: #49494c;\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  padding-right: 10px;\n"]))),E=function(){var t=Object(f.c)(p);return Object(v.jsxs)(L,{children:[Object(v.jsx)(w,{}),t&&Object(v.jsx)(A,{})]})},z=n(7),R=function(t){var e=t.isAuth,n=t.path,c=t.component,r=t.exact;return e?Object(v.jsx)(z.b,{path:n,exact:r,component:c}):Object(v.jsx)(z.a,{to:"/register"})},S=function(t){var e=t.isAuth,n=t.path,c=t.component,r=t.exact,a=t.restricted;return e&&a?Object(v.jsx)(z.a,{to:"/contacts"}):Object(v.jsx)(z.b,{path:n,exact:r,component:c})},q=n(46),U=function(){var t=Object(f.c)(p);return Object(v.jsx)(b.Suspense,{fallback:Object(v.jsx)(q.a,{}),children:Object(v.jsx)(z.d,{children:m.map((function(e){var n=e.isPrivate,c=e.path,r=e.exact,a=e.component,o=e.restricted;return n?Object(v.jsx)(R,{path:c,exact:r,component:a,isAuth:t},c):Object(v.jsx)(S,{path:c,exact:r,component:a,isAuth:t,restricted:o},c)}))})})},P=function(){var t=Object(f.b)();return Object(b.useEffect)((function(){t(Object(l.a)())}),[t]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(E,{}),Object(v.jsx)(U,{})]})},T=n(29),I=n(3),F=n(17),J=n(9),B=n(52),H=n.n(B),W=n(2),D=n(4),G=n(8),K=Object(I.c)([],(o={},Object(W.a)(o,G.j,(function(t,e){return e.payload})),Object(W.a)(o,G.c,(function(t,e){var n=e.payload;return[].concat(Object(T.a)(t),[n])})),Object(W.a)(o,G.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(W.a)(o,D.f,(function(){return[]})),o)),M=Object(I.c)(!1,(u={},Object(W.a)(u,G.i,(function(){return!0})),Object(W.a)(u,G.j,(function(){return!1})),Object(W.a)(u,G.h,(function(){return!1})),Object(W.a)(u,G.b,(function(){return!0})),Object(W.a)(u,G.c,(function(){return!1})),Object(W.a)(u,G.a,(function(){return!1})),Object(W.a)(u,G.f,(function(){return!0})),Object(W.a)(u,G.g,(function(){return!1})),Object(W.a)(u,G.e,(function(){return!1})),u)),Q=Object(I.c)("",Object(W.a)({},G.d,(function(t,e){return e.payload}))),V=Object(J.b)({contacts:K,filter:Q,loading:M}),X=Object(I.c)({name:"",email:"",idToken:"",error:""},(i={},Object(W.a)(i,D.l,(function(t,e){var n=e.payload;return{name:n.user.name,email:n.user.email,idToken:n.token}})),Object(W.a)(i,D.i,(function(t,e){var n=e.payload;return{name:n.user.name,email:n.user.email,idToken:n.token}})),Object(W.a)(i,D.f,(function(t){return{name:"",email:"",idToken:""}})),Object(W.a)(i,D.c,(function(t,e){var n=e.payload;return Object(x.a)(Object(x.a)({},t),n)})),i)),Y=function(t,e){return e.payload},Z=function(){return""},$=Object(I.c)("",(s={},Object(W.a)(s,D.j,Y),Object(W.a)(s,D.k,Z),Object(W.a)(s,D.g,Y),Object(W.a)(s,D.h,Z),Object(W.a)(s,D.d,Y),Object(W.a)(s,D.e,Z),Object(W.a)(s,D.a,Y),Object(W.a)(s,D.b,Z),Object(W.a)(s,G.i,Z),Object(W.a)(s,G.h,Y),Object(W.a)(s,G.b,Z),Object(W.a)(s,G.a,Y),Object(W.a)(s,G.f,Z),Object(W.a)(s,G.e,Y),s)),_={key:"root",storage:H.a,whitelist:["idToken"]},tt=Object(J.b)({items:V,auth:Object(F.g)(_,X),error:$}),et=Object(T.a)(Object(I.d)({serializableCheck:{ignoredActions:[F.a,F.f,F.b,F.c,F.d,F.e]}})),nt=Object(I.a)({reducer:tt,middleware:et});Object(F.h)(nt);var ct=nt;n(106),n(107);d.a.render(Object(v.jsx)(f.a,{store:ct,children:Object(v.jsx)(O.a,{children:Object(v.jsx)(P,{})})}),document.getElementById("root"))},27:function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return O})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return l}));var c=n(19),r=n.n(c),a=n(15),o=n(24),u=n(21),i=n.n(u),s=n(4);i.a.defaults.baseURL="https://connections-api.herokuapp.com";var b=function(t){i.a.defaults.headers.common.Authorization=t},j=function(){i.a.defaults.headers.common.Authorization=""},d=function(t){return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.k)()),e.prev=1,e.next=4,i.a.post("/users/signup",Object(a.a)({},t));case 4:c=e.sent,o=c.data,b(o.token),n(Object(s.l)(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(s.j)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.h)()),e.prev=1,e.next=4,i.a.post("/users/login",Object(a.a)({},t));case 4:c=e.sent,o=c.data,b(o.token),n(Object(s.i)(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(s.g)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(s.e)()),e.prev=1,e.next=4,i.a.post("/users/logout",t);case 4:c=e.sent,a=c.data,j(),n(Object(s.f)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(s.d)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},l=function(){return function(){var t=Object(o.a)(r.a.mark((function t(e,n){var c,a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return b(a),e(Object(s.b)()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:o=t.sent,e(Object(s.c)(o.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(s.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return l}));var c=n(3),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logOutRequest"),j=Object(c.b)("auth/logOutSuccess"),d=Object(c.b)("auth/logOutError"),O=Object(c.b)("auth/getCurrentUserRequest"),f=Object(c.b)("auth/getCurrentUserSuccess"),l=Object(c.b)("auth/getCurrentUserError")},46:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var c=n(51),r=n.n(c),a=n(1),o=function(){return Object(a.jsx)(r.a,{type:"Circles",color:"#636571",height:40,width:40,timeout:5e3,className:"loader"})}},8:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return O}));var c=n(3),r=Object(c.b)("fetchContactsRequest"),a=Object(c.b)("fetchContactsSuccess"),o=Object(c.b)("fetchContactsError"),u=Object(c.b)("contacts/addContactRequest ="),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),j=Object(c.b)("contacts/deleteContactSuccess"),d=Object(c.b)("contacts/deleteContactError"),O=Object(c.b)("contacts/changeFilter")}},[[108,2,3]]]);
//# sourceMappingURL=main.16c86858.chunk.js.map